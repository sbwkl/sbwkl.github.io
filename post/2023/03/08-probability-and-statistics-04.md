# 《概率统计》 day 4

今天是读《概率统计》的逻辑第 4 天，学习多项式系数和事件的联合概率。

多项式系数描述这样一个问题：n 个球放入 k 个桶，每桶有 n<sub>k</sub> 个元素，问有多少种结果。

这个问题通过组合求解，分成 k 个步骤，第一步从 n 个球取 n<sub>1</sub> 个球，第二步从 n - n<sub>1</sub> 取 n<sub>2</sub> 个球，依次类推。

最后经过化简得到

$$
\frac{n!}{n_1!n_2!...n_k!}
$$

这个式子记作

$$
\binom{n}{n_1, n_2,..., n_k}
$$

记到时蛮好记的，当 k = 2 叫二项式，就是组合的公式

$$
\binom{n}{n_k, n - n_k} = \binom{n}{n_k}
$$

它叫多项式系数应该是因为满足下面这个等式

$$
(x_1 + ... + x_k)^n = \sum\binom{n}{n_1, n_2,..., n_k} x_1^{n_1}x_2^{n_2}...x_k^{n_k}
$$

感觉挺离谱的，计数的方法还能歪到和多项式有关，忘记在哪里看到过，多项式似乎真的能用计数来解释。

多项式系数的问题还有另一种描述，n 个球有 k 种不同颜色，每种有 n<sub>k</sub> 个，问有多少种排列结果。

这个描述有点恶心，明明说的是排列结果，用的却是组合的公式，要纠结一下才能转过来。

多项式的问题描述的球和桶都是可区分的，换句话说就是有编号的。由此衍生出另外三种计数

1. 球不区分，桶区分
2. 球区分，桶不区分
3. 球不区分，桶不区分

2，3 这两种 case 直接告辞，我觉得这辈子都不可能遇上这种问题，巨复杂，感兴趣的可以看看《离散数学》第六章。

或者搜索关键词「第二类斯特林数」「Partitions of Integers」反正很屌就是了。

仅剩的一种情况和苹果、橘子、梨那个例子一样理解，所以公式是 C(n + k - 1, k)。

计数好尼玛难，这种难倒不是说解不出答案，更多的是套这个模型也能解，套那个模型也能解，诶嘿，结果还不一样。

好在用到的可能性也不是那么大，不然就只能大力出奇迹，刷题了。


$$
P(A_1 \cup A_2) = P(A_1) + P(A_2) - P(A_1 \cap A_2)
$$

$$
\begin{aligned}
P(A_1 \cup A_2 \cup A_3) &= P(A_1) + P(A_2) + P(A_3) \\
                         &- [P(A_1 \cap A_2) + P(A_2 \cap A_3) + P(A_1 \cap A_3)] \\
                         &+ P(A_1 \cap A_2 \cap A_3)
\end{aligned}
$$

以及推广到 n 个事件那个巨复杂的公式，反正就记得奇数个事件的概率都是正的，偶数个事件都是负的。

这节有意思的是一个匹配问题，说的是 n 个人吃火锅，进门前脱了外套丢在一起，吃完出门随机拿一件穿上走人，问至少有一个人拿回自己外套的概率。

直接说结论

$$
p_n = 1 - \frac{1}{2!} + \frac{1}{3!} - \frac{1}{4!} + ...
$$

当 n = 7，p<sub>7</sub> = 3186 / 5040 约等于 0.6321

当 n 趋向无穷 p<sub>n</sub> = 1 - (1 / e) 约等于 0.63212。




封面图：Twitter 心臓弱眞君 @xinzoruo