# 《概率统计》 day 6

今天是读《概率统计》的逻辑第 6 天，学习独立事件。

独立事件说的是无论学习多少 B 都不改变 A 的概率。

这个深有体会。爷，提瓦特流氓，每天打日常，但依旧不改变解题概率，解不出来还是解不出来。

事件独立定义

$$
P(A \cap B) = P(A)P(B)
$$

根据定义，可以推断 P(A | B) = P(A)。

假设每次抛硬币独立，正好第 n 次抛出正面的概率

$$
p_n = (\frac{1}{2})^{n-1} * \frac{1}{2} = \frac{1}{2^n}
$$

那么抛出正面的概率是

$$
\begin{aligned}
\sum_{n=1}^{\infty}P_n &= \frac{1}{2} + \frac{1}{4} + \frac{1}{8} + ... \\
&= \frac{1}{1 - \frac{1}{2}} - 1 = 1
\end{aligned}
$$

意思是只要坚持抛，就一定能抛出正面。

呃……好像说了句废话。

这倒让我想到一句鸡汤，坚持做正确的事。

接下来的例子有点意思，说的是某市发生一起抢劫案，目击证人声称看到一名金发扎马尾女子，乘坐黄色汽车逃跑，司机是一名留着胡子的黑人。

隔天警察就逮到两个长这样的倒霉蛋。

数学家经过计算，随机挑选一对男女满足这个特征的概率是 0.000000083，猜一下他们俩到底是不是犯人。

直觉来说，这概率，一千多万人也就一对天选之人，八成就你俩了。

但法官要求计算条件概率，即已知有一对天选之人的前提下，还有其他天选之人的概率。

假设从 n 人随机抽取一对，满足特征的概率是 p，定义三个事件

+ 事件 A：至少有一对满足条件
+ 事件 B：至少有两对满足条件
+ 事件 C：正好只有一对满足条件

计算 P(B | A) 概率。

根据描述事件 A 包含事件 B，不仅如此 A 是 B，C 的并集

$$
P(B | A) = \frac{P(A \cap B)}{P(A)} = \frac{P(B)}{P(A)}
$$

P(A) 通过 A 的补集计算

$$
\begin{aligned}
P(A) &= 1 - (1 - p)^n \\
P(C) &= \binom{n}{1}p(1 - p)^{n - 1} = np(1 - p)^n \\
P(B) &= P(A) - P(C) \\
&= 1 - (1 - p)^n - np(1 - p)^{n - 1}
\end{aligned}
$$

代入公式

$$
P(B | A) = \frac{1 - (1 - p)^n - np(1 - p)^{n - 1}}{1 - (1 - p)^n}
$$

假设 n = 8000000, p = 0.000000083 得到 p(B | A) = 0.2966 这个概率下断言这俩是犯人好像有点不合适了。

这就是知识的力量么，要是不懂概率就被瘪三算计了。

<!-- 以后要是有人污我说概率这么小，一定是你了，直接条件概率甩脸上。 -->

说个题外话，上面这个例子我用 python 算，结果是 0.2955，我猜测是精度问题，想用 java 试试，结果把电脑干趴了，有大佬可以解释下原因么。

这是代码

```python
import numpy as np
def cp(n, p):
   pb = 1 - np.power(1 - p, n) - n * p * np.power(1 - p, n - 1)
   pa = 1 - np.power(1 - p, n)
   return pb / pa
cp(8000000.0, 0.000000083)
```

最后还有种奇怪的独立，叫条件独立

$$
P(A_1 \cap A_2 | B) = P(A_1 | B) P(A_2 | B)
$$

等价于

$$
P(A_2 | A_1 \cap B) = P(A_2 | B)
$$

概率加了条件，感觉就特别陌生。

封面图：Twitter 心臓弱眞君 @xinzoruo