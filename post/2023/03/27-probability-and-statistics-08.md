# 《概率统计》 day 8

今天是读《概率统计》的逻辑第 8 天，学习赌徒破产问题 Gambler's Ruin Problem。

这个问题说的是两个赌徒玩游戏，正面赚到一块钱，背面亏了一块钱，问其中一个赌徒破产的概率。

结论是

对于公平的游戏，两人赢得概率一样，都是 0.5，假设两个赌徒 M 和 N 的本金是 m 和 n，那么赌徒 M 获胜，赌徒 N 破产的概率是 m / (m + n)。

也就是说如果九块钱本金想赢一块，概率是 0.9，如果想赢九块，概率是 0.5，如果想赢 41 块，概率只有 0.18。

吼吼，还有这样的关系，怪不得说本金很重要。

如果是不公平的游戏，赌徒 M，N 赢钱的概率是 p 和 1 - p，本金还是 m 和 n，那么赌徒 M 获胜的概率是

$$
p = \frac{(\frac{1-p}{p})^m - 1}{(\frac{1-p}{p})^{m + n} - 1}
$$

对于 p = 0.6 的游戏，九块本金赢一块，概率是 0.99，赢九块，概率是 0.97，赢 41 块，概率是 

p|赚|概率|
|--|--|--|
|0.49|1|0.8810|
|0.49|9|0.4109|
|0.49|41|0.0678|
|0.51|1|0.9170|
|0.51|9|0.5895|
|0.51|41|0.3497|

解题过程，最重要的等式

$$
a_i = pa_{i + 1} + (1 - p)a_{i - 1}
$$

a<sub>i</sub> 表示本金为 i 赢下比赛的概率，p 表示每一局游戏，获胜的概率，其中 a<sub>0</sub> = 0，a<sub>k</sub> = 1。


根据描述梳理两个事件

+ A<sub>i</sub>：本金 i 时赢下一块钱
+ B<sub>i</sub>：本金 i 时输掉一块钱

A 和 B 构成样本空间的 patition

$$
P(W) = P(A_i)P(W|A_i) + P(B_i)P(W|B_i)
$$

这个等式整理下

$$
\begin{aligned}
a_2 - a_1 &= \frac{1-p}{p}a_1 \\
a_3 - a_2 &= \frac{1-p}{p}(a_2 - a_1) = (\frac{1-p}{p})^2a_1 \\
a_4 - a_3 &= \frac{1-p}{p}(a_3 - a_2) = (\frac{1-p}{p})^3a_1 \\
... \\
a_{k-1} - a_{k-2} &=\frac{1-p}{p}(a_{k-2} - a_{k-3}) = (\frac{1-p}{p})^{k-1}a_1 \\
a_k - a_{k-1} &= \frac{1-p}{p}(a_{k-1} - a_{k-2})=(\frac{1-p}{p})^{k-1}a_1
\end{aligned}
$$

等式两边累加得到

$$
1 - a_1 = a_1 \sum_{i=1}^{k-1}(\frac{1-p}{p})^i
$$

等式右边是等比数列求和，解出 a<sub>1</sub> 带入最初的等式依次解出 a<sub>i</sub>


封面图：Twitter 心臓弱眞君 @xinzoruo


B 站有句话怎么说来着，我可以失误无数次，你只能失误一次。

