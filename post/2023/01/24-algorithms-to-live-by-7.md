# 《算法之美》 day 7

今日内容：随机性

<!-- 看完之后与其说是讲随机性不如说是讲抽样，虽然两者关联很深。 -->

凡是和随机性扯上点关系的东西，多少有点神奇。

我到现在还不能接受三门问题<sup>[1]</sup>的概率是 2 / 3，虽然用 js 模拟跑了下似乎确实如此。

**米勒-拉宾质数检验**<sup>[1]</sup>

质数、合数印象中老早就学了，但第一次知道质数有用是在密码学，那串秘钥居然只是两个质数。另外我觉得它们的英文比翻译更直观 prime, composite。

这个算法通过抽样 x 验证一组方程是否成立来判断 n 是不是质数。

这个算法和别的算法不同，他得出的结论不准确的，只能判断 n 大概率是质数。

这是因为这组方程当 n 为合数时，对某些 x 也成立。

但这个假阳性的概率可以通过多次抽样控制在合理的范围。

这个算法在时间和准确率之间权衡。

**布隆过滤器**<sup>[1]</sup>

这个东西类似哈希表，不过它只判断 key 是否存在，优点是比哈希表省空间。

它由数组和 k 个哈希函数组成，当添加元素 x 时，通过 k 个哈希函数得到 k 个位置，然后把相应的位置设置 1。

设置合适的 m, n, k 可以控制假阳性在万分之五，占用空间只有原来的 1/8 ~ 1/4，大多数情况可以接受。

这是在空间和准确率之间权衡。

<!-- 因吹斯汀，原来正确性也能权衡。 -->

**爬山算法**<sup>[1]</sup>

它从任何解出发，通过少量变换尝试寻找更优解，如果找到了在新解上继续迭代，直到找不到更优解。

这个算法很容易找到局部最优解而不是全局最优解。

**模拟退火算法**<sup>[1]</sup>

这个算法从物理学那边过来的，模拟晶体冷却的过程。

物体温度高，分子运动激烈，随机值大。

放到旅行商问题就是先加热到高温，随机选路线，然后逐渐降低随机性，直到找到局部最大值。

这就是传说中的做好自己能做的，剩下的交给天意。

这些屌算法一眼看上去都很邪门，但又出乎意料的好用，和 pcr 的虫子料理。

+ 三门问题：https://en.wikipedia.org/wiki/Monty_Hall_problem
+ 米勒-拉宾检验：https://en.wikipedia.org/wiki/Miller%E2%80%93Rabin_primality_test
+ 布隆过滤器：https://en.wikipedia.org/wiki/Bloom_filter
+ 爬山算法：https://en.wikipedia.org/wiki/Hill_climbing
+ 模拟退火：https://en.wikipedia.org/wiki/Simulated_annealing



封面图：Twitter 心臓弱眞君 @xinzoruo