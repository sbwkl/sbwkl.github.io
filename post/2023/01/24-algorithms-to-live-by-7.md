# 《算法之美》 day 7

今日内容：随机性

凡是和随机性扯上点关系的东西，多少有点神奇。

我到现在还不能接受三门问题<sup>[1]</sup>，哪怕模拟跑出来的结果确实是 2/3。

**米勒-拉宾检验**<sup>[2]</sup>

这个算法检查是否质数，提供一组方程（用 x，n 表示）随机选择 x，如果方程成立，n 是质数。

但某些合数 n 和 x 也能使方程成立，好在这样的 x 不超过 1/4，通过多次抽样可以控制假阳性的概率。

和传统的算法相比，米勒-拉宾检验快到飞起，这是时间和准确率的权衡。

质数、合数，很早就学了，直到看了密码学才知道质数真的有用，那串秘钥居然只是两个很大的质数。

另外加密的基础是超大整数几乎无法质因数分解，完美诠释了无解也是一种解。

**布隆过滤器**<sup>[3]</sup>

这个东西类似哈希表，用来判断 key 是否存在。

它由长度为 m 的数组和 k 个哈希函数组成，验证元素时，通过 k 个哈希函数得到 k 个位置，如果 k 个位置全为 1，那么元素存在。

这个算法也有假阳性，根据存储元素数量，设置合适的 m, k 可以控制假阳性的概率。

和哈希表相比，布隆过滤器省到飞起，这是空间和准确率的权衡。

**模拟退火算法**<sup>[4]</sup>

这个算法从物理学那边牛过来的，模拟晶体冷却的过程，温度越高，随机性越大。

以旅行商问题为例，选择一条初始路线，随机调整城市顺序产生新路线，在高温下路线切换受花费影响小，哪怕新路线花费更大，大概率切换。随着温度下降，更容易切换到花费小的路线，温度降到零，只接受花费小的路线，直到找到局部最优解。

这就是传说中的谋事在人，成事在天么。

这些算法第一眼看上去都很邪门，但事实证明出乎意料的好用，我又想到了猴子排序，那玩意儿不会也有深意吧。

+ [1] 三门问题：*https://en.wikipedia.org/wiki/Monty_Hall_problem*
+ [2] 米勒-拉宾检验：*https://en.wikipedia.org/wiki/Miller%E2%80%93Rabin_primality_test*
+ [3] 布隆过滤器：*https://en.wikipedia.org/wiki/Bloom_filter*
+ [4] 模拟退火：*https://en.wikipedia.org/wiki/Simulated_annealing*

封面图：Twitter 心臓弱眞君 @xinzoruo