# 《概率统计》 day 15

今天是读《概率统计》的逻辑第 15 天，学习马尔科夫链。

Long long age 学过一个等式

$$
P(A_1 \cap A_2 \cap ... \cap A_n) = P(A_1)P(A_2 | A_1)P(A_3 | A_1 \cap A_2) ... P(A_n | A_1 \cap A_2 \cap ... \cap A_{n - 1})
$$

计算 A<sub>1</sub> 到 A<sub>n</sub> 交集的概率，正常算，巨尼玛复杂。

然后一个机智的大胡子提出一个大胆的想法：他假设 A<sub>n</sub> 只和 A<sub>n-1</sub> 有关。

粗看这个假设有点扯，凭什么，看不起我 A<sub>n - 2</sub> 还是怎么着。

但是如果把 n 看成时间，一切似乎又合理起来了。

打个比方，众所周知，作为一个程序员，闲得蛋疼的时候看看书，玩玩手机，很合理吧。又假设每十分钟读书有 40% 概率去玩手机，玩手机有 10% 概率去读书。

第一个十分钟记 X<sub>1</sub>，第二个十分钟记X<sub>2</sub>，第 n 个十分钟记 X<sub>n</sub>。

那二个十分钟只和第一个十分钟有关，第三个十分钟只和第二个十分钟有关，很合理吧，换我可能都记不得半个小时前在干啥。

这就构成一个简易版马尔科夫链，它只有两个状态：看书（0）玩手机（1）。

根据描述得到

$$
P(X_{n+1} = 0|X_n = 0) = 60\% \\
P(X_{n+1} = 1|X_n = 0) = 40\% \\
P(X_{n+1} = 0|X_n = 1) = 10\% \\
P(X_{n+1} = 1|X_n = 1) = 90\%
$$

那么问题来了，我到底有多少时间在看书，多少时间在玩游戏。

结论是只要蛋疼的时间够久，那么八成时间在玩游戏，两成时间在看书。

上面罗里吧嗦的等式根据

$$
p_{ij} = P(X_{n+1} = j|X_n = i)
$$

简化为

$$
\boldsymbol{P} = \begin{bmatrix}
0.6 & 0.4 \\
0.1 & 0.9
\end{bmatrix}
$$

这个矩阵有意思的是 P(X<sub>n + m</sub> = j|X<sub>n</sub> = i) 刚好就是 P<sup>m</sup> 的第 i 行 j 列。

经过 27 次后固定不变

$$
\boldsymbol{P}^{27} = \begin{bmatrix}
0.2 & 0.8 \\
0.2 & 0.8
\end{bmatrix}
$$

无论初始分布 [a, b] 是多少，相乘后都一样

$$
[a, b]P^{27} = [0.2, 0.8]
$$

事实上 5 次之后就很接近了

$$
\boldsymbol{P}^5 = \begin{bmatrix}
0.2125 & 0.7875 \\
0.1969 & 0.8031
\end{bmatrix}
$$

意味着无论怎么挣扎，怎么天胡开局，只要概率没变，世界线总会收束，一切都是命运石之门的选择。

转移矩阵中 p<sub>ii</sub> = 1 的状态叫吸收态（Absorbing State）黑洞，进去就出不来了,之前赌徒破产问题里的 p<sub>00</sub> 和 p<sub>kk</sub> 都是吸收态。

<!-- 三章到这里就结束了，最大的疑问是 f(x) 怎么来的。

另外也感觉随着研究的深入，不同的知识开始有交集。

就第三章的内容，用到了微积分，用到了线性代数，后面行列式都来了，这个我熟，翻车现场。 -->



封面图：Twitter 心臓弱眞君 @xinzoruo