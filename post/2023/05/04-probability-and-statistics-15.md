# 《概率统计》 day 15

今天是读《概率统计》的逻辑第 15 天，学习马尔科夫链。

Long long age 学过一个等式

$$
P(A_1 \cap A_2 \cap ... \cap A_n) = P(A_1)P(A_2 | A_1)P(A_3 | A_1 \cap A_2) ... P(A_n | A_1 \cap A_2 \cap ... \cap A_{n - 1})
$$

这个公式计算 A<sub>1</sub> 到 A<sub>n</sub> 交集的概率，正常算，巨尼玛复杂。

然后一个机智的大胡子有个大胆的想法：他假设 A<sub>n</sub> 只和 A<sub>n-1</sub> 有关。

粗看这个假设有点扯，凭什么，看不起我 A<sub>n - 2</sub> 还是怎么着。

但是如果把 n 看成时间，一切似乎又合理起来了。

打个比方，众所周知，作为一个程序员，闲得蛋疼的时候看看书，玩玩手机，很合理吧。又假设每十分钟尝试切换，读书有 40% 概率去玩手机，玩手机有 10% 概率去读书。

那每次切换只和上一次在看书还是玩手机有关，很合理吧。一般人可能都记不住半个小时前在干啥。

那么问题来了，我到底有多少时间在看书，多少时间在玩游戏。

结论是只要蛋疼的时间够久，那么八成时间在玩游戏，两成时间在看书。

这就构成一个简易版马尔科夫链，它有两个状态，简单起见：0 = 读书， 1 = 玩手机

那么根据描述

$$
P(X_{n+1} = 0|X_n = 0) = 60\% \\
P(X_{n+1} = 1|X_n = 0) = 40\% \\
P(X_{n+1} = 0|X_n = 1) = 10\% \\
P(X_{n+1} = 1|X_n = 1) = 90\%
$$

这么写太啰嗦

$$
p_{ij} = P(X_{n+1} = j|X_n = i)
$$

于是

$$
\bold{P} = \begin{bmatrix}
0.6 & 0.4 \\
0.1 & 0.9
\end{bmatrix}
$$

这个矩阵很有意思，计算 P(X_n = i|X_0 = j) 刚好就是 P^n 

这个矩阵转移 5 次之后

$$
\bold{P}^5 = \begin{bmatrix}
0.2125 & 0.7875 \\
0.1969 & 0.8031
\end{bmatrix}
$$

转移 27 次之后

$$
\bold{P}^{27} = \begin{bmatrix}
0.2 & 0.8 \\
0.2 & 0.8
\end{bmatrix}
$$



又假设以读书开局，那么初始分布 [1, 0]






转移矩阵如果 p_ii = 1 那么状态 i 叫做吸收态（Absorbing State），这种状态就是个黑洞，进去就出不来了,之前赌徒破产问题里的 p_00 和 p_kk 就是吸收态。

<!-- 它是一种简化的随机过程（Stochastic Process）

随机过程是 -->

无论以什么样的形式开局，只要概率没变，最后世界线收束，太绝望了，这就是命运石之门的选择。

三章到这里就结束了，但一直有个疑问，f(x) 这个函数怎么来的？

另外也感觉随着研究的深入，不同的知识开始有交集。

就第三章的内容，用到了微积分，用到了线性代数，后面行列式都来了，这个我熟，翻车现场。



封面图：Twitter 心臓弱眞君 @xinzoruo